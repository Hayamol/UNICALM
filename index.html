<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>UNICALM</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
    <style>
        /* Global Styles */
body {
    font-family: 'Poppins', sans-serif;
    background: linear-gradient(135deg, #eaeebee7, #bf76ae);
    color: #333;
    margin: 0;
    padding: 0;
}

.container {
    max-width: 800px;
    margin-top: 50px;
}

/* Header */
h2 {
    font-size: 3rem;
    font-weight: 900;
    color: #0b020d;
    text-align: center;
    margin-bottom: 30px;
}

/* Card Styling */
.card {
    padding: 30px;
    border-radius: 15px;
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
    background-color: rgb(214, 211, 216);
}

/* Button Styling */
.btn {
    border-radius: 50px;
    font-weight: 600;
    padding: 12px 35px;
    font-size: 1rem;
    transition: all 0.3s ease-in-out;
}

.btn-primary {
    background-color: #686450;
    border: none;
    color: rgb(250, 250, 250);
}

.btn-primary:hover {
    background-color: #686450;
    transform: translateY(-2px);
}

.btn-secondary {
    background-color: #f1f1f1;
    border: none;
    color: #333;
}

.btn-secondary:hover {
    background-color: #e0e0e0;
    transform: translateY(-2px);
}

.btn-success {
    background-color: #28a745;
    border: none;
    color: white;
}

.btn-success:hover {
    background-color: #218838;
    transform: translateY(-2px);
}

/* Form Styling */
.form-label {
    font-weight: 600;
    color: #333;
    margin-bottom: 10px;
}

.form-control {
    border-radius: 10px;
    border: 1px solid #ddd;
    padding: 10px;
    font-size: 1rem;
}

.form-control:focus {
    border-color: #686450;
    box-shadow: 0 0 5px rgba(108, 99, 255, 0.5);
}

/* Progress Bar */
.progress {
    height: 10px;
    background-color: #e0e0e0;
    border-radius: 5px;
}

.progress-bar {
    background-color: #686450;
    height: 10px;
    transition: width 0.5s ease-in-out;
    border-radius: 5px;
}


/* Animations */
@keyframes fadeIn {
    from {
        opacity: 0;
    }
    to {
        opacity: 1;
    }
}

.show {
    animation: fadeIn 1s ease-in-out;
}


@keyframes bounce {
    0% { transform: translateY(0); }
    50% { transform: translateY(-10px); }
    100% { transform: translateY(0); }
}

.btn:hover {
    animation: bounce 0.5s ease-in-out;
}
@keyframes fadeInOut {
    0% { opacity: 0; }
    100% { opacity: 1; }
}

.hidden {
    display: none;
}

.show {
    animation: fadeInOut 0.5s ease-in-out;
}


.hidden {
    display: none;
}

.show {
    animation: fadeIn 0.5s ease-in-out;
}

.spinner-grow {
    width: 3rem;
    height: 3rem;
    animation: spin 1s infinite linear;
}

@keyframes spin {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
}

.spinner-grow.text-primary {
    animation: bounce 1s infinite ease-in-out;
}

/* Welcome and Loading Screen */
#loading-screen {
    position: fixed;
    width: 100%;
    height: 100%;
    background: linear-gradient(45deg, #ff7e5f, #feb47b, #ff9a8b, #a8c0ff); /* Example gradient */
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    font-size: 20px;
    z-index: 9999;
    animation: gradientShift 5s infinite; /* Optional animation */
}

@keyframes gradientShift {
    0% { background: linear-gradient(45deg, #ff7e5f, #feb47b); }
    50% { background: linear-gradient(45deg, #ff9a8b, #a8c0ff); }
    100% { background: linear-gradient(45deg, #ff7e5f, #feb47b); }
}


#welcome-screen {
    position: fixed;
    width: 100%;
    height: 100%;
    background: linear-gradient(135deg, rgb(212, 138, 168), #7597ce, #bb9b6d, #d98b7f); /* Example gradient */
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    font-size: 24px;
    font-weight: bold;
    z-index: 9998;
    animation: gradientShiftWelcome 6s infinite; /* Optional animation */
}

@keyframes gradientShiftWelcome {
    0% { background: linear-gradient(135deg, rgb(235, 129, 171), #a0c4ff); }
    50% { background: linear-gradient(135deg, #ffecd2, #ff9a8b); }
    100% { background: linear-gradient(135deg, rgb(201, 115, 150), #a0c4ff); }
}


#choose-option-screen {
    position: fixed;
    width: 100%;
    height: 100%;
    background: 
        linear-gradient(to right, #ff7e5f 20%, #feb47b 20%, #feb47b 40%, #ff9a8b 40%, #ff9a8b 60%, #a8c0ff 60%, #a8c0ff 100%);
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    font-size: 18px;
    font-weight: bold;
    z-index: 9997;
}


/* Result Screen */
#result-screen {
    text-align: center;
    padding: 30px;
}

#result-screen h3 {
    font-size: 2.5rem;
    color: #4a3f05;
}

#result-screen .btn {
    margin-top: 30px;
}

/* Footer */
footer {
    text-align: center;
    padding: 20px;
    background-color: #4a3f05;
    color: white;
    position: fixed;
    width: 100%;
    bottom: 0;
}

footer a {
    color: white;
    text-decoration: none;
}

footer a:hover {
    text-decoration: underline;
}

    </style>
</head>
<body onload="startLoading()">
    <!-- Loading Screen -->
    <div id="loading-screen" class="text-center" style="position: fixed; width: 100%; height: 100%; background: white; display: flex; flex-direction: column; justify-content: center; align-items: center; font-size: 20px; z-index: 9999;">
        <div style="display: flex; gap: 5px;">
            <div class="spinner-grow text-primary" role="status" style="width: 1rem; height: 1rem;"></div>
            <div class="spinner-grow text-primary" role="status" style="width: 1rem; height: 1rem;"></div>
            <div class="spinner-grow text-primary" role="status" style="width: 1rem; height: 1rem;"></div>
        </div>
    </div>

    <!-- Welcome Screen -->
    <div id="welcome-screen" class="text-center hidden" style="position: fixed; width: 100%; height: 100%; background: rgb(183, 118, 130); display: flex; flex-direction: column; justify-content: center; align-items: center; font-size: 24px; font-weight: bold; z-index: 9998;">
        UNICALM
        <p style="font-size: 16px; font-weight: normal;">IMPROVE YOUR MENTAL HEALTH FOR BETTER LIFE</p>
    </div>

    <!-- Choose Option Screen -->
    <div id="choose-option-screen" class="text-center hidden" style="position: fixed; width: 100%; height: 100%; background: rgb(234, 139, 139); display: flex; flex-direction: column; justify-content: center; align-items: center; font-size: 18px; font-weight: bold; z-index: 9997;">
        <p>What would you like to do?</p>
        <button class="btn btn-primary" onclick="startTest()">Take a test to check your stress level</button>
    </div>

    <!-- Main App Content (Test Questions) -->
    <div class="container" style="display: none;" id="app-content">
        <h2 class="text-center">UNICALM</h2>
        <div class="progress mb-3">
            <div id="progress-bar" class="progress-bar" style="width: 10%;"></div>
        </div>
        <div class="card" id="question-card">
            <form id="stress-form">
                <!-- Step 1 -->
                <div id="step-1">
                    <label for="stress-level" class="form-label">On a scale of 1-10, how stressed do you feel?</label>
                    <input type="number" id="stress-level" class="form-control" min="1" max="10" required>
                    <button type="button" class="btn btn-primary mt-3" onclick="nextStep(1, 2, 10)">Next</button>
                </div>
                
                <!-- Step 2 -->
                <div id="step-2" class="hidden">
                    <label for="sleep-hours" class="form-label">How many hours of sleep do you get on average?</label>
                    <input type="number" id="sleep-hours" class="form-control" min="1" max="12" required>
                    <button type="button" class="btn btn-secondary mt-3" onclick="prevStep(2, 1, 10)">Back</button>
                    <button type="button" class="btn btn-primary mt-3" onclick="nextStep(2, 3, 20)">Next</button>
                </div>
                
                <!-- Step 3 -->
                <div id="step-3" class="hidden">
                    <label for="diet" class="form-label">How balanced is your diet?</label>
                    <select id="diet" class="form-control" required>
                        <option value="healthy">Healthy</option>
                        <option value="average">Average</option>
                        <option value="poor">Poor</option>
                    </select>
                    <button type="button" class="btn btn-secondary mt-3" onclick="prevStep(3, 2, 20)">Back</button>
                    <button type="button" class="btn btn-primary mt-3" onclick="nextStep(3, 4, 30)">Next</button>
                </div>

                <!-- Step 4 -->
                <div id="step-4" class="hidden">
                    <label for="exercise" class="form-label">Do you engage in physical activities regularly?</label>
                    <select id="exercise" class="form-control" required>
                        <option value="yes">Yes</option>
                        <option value="no">No</option>
                    </select>
                    <button type="button" class="btn btn-secondary mt-3" onclick="prevStep(4, 3, 30)">Back</button>
                    <button type="button" class="btn btn-primary mt-3" onclick="nextStep(4, 5, 40)">Next</button>
                </div>

                <!-- Step 5 -->
                <div id="step-5" class="hidden">
                    <label for="social-life" class="form-label">How would you rate your social life?</label>
                    <select id="social-life" class="form-control" required>
                        <option value="good">Good</option>
                        <option value="average">Average</option>
                        <option value="poor">Poor</option>
                    </select>
                    <button type="button" class="btn btn-secondary mt-3" onclick="prevStep(5, 4, 40)">Back</button>
                    <button type="button" class="btn btn-primary mt-3" onclick="nextStep(5, 6, 50)">Next</button>
                </div>

                <!-- Step 6 -->
                <div id="step-6" class="hidden">
                    <label for="work-life" class="form-label">How would you rate your work-life balance?</label>
                    <select id="work-life" class="form-control" required>
                        <option value="good">Good</option>
                        <option value="average">Average</option>
                        <option value="poor">Poor</option>
                    </select>
                    <button type="button" class="btn btn-secondary mt-3" onclick="prevStep(6, 5, 50)">Back</button>
                    <button type="button" class="btn btn-primary mt-3" onclick="nextStep(6, 7, 60)">Next</button>
                </div>

                <!-- Step 7 -->
                <div id="step-7" class="hidden">
                    <label for="work-stress" class="form-label">Do you feel stressed at work?</label>
                    <select id="work-stress" class="form-control" required>
                        <option value="yes">Yes</option>
                        <option value="no">No</option>
                    </select>
                    <button type="button" class="btn btn-secondary mt-3" onclick="prevStep(7, 6, 60)">Back</button>
                    <button type="button" class="btn btn-primary mt-3" onclick="nextStep(7, 8, 70)">Next</button>
                </div>

                <!-- Step 8 -->
                <div id="step-8" class="hidden">
                    <label for="relaxation" class="form-label">Do you have any methods to relax or unwind?</label>
                    <select id="relaxation" class="form-control" required>
                        <option value="yes">Yes</option>
                        <option value="no">No</option>
                    </select>
                    <button type="button" class="btn btn-secondary mt-3" onclick="prevStep(8, 7, 70)">Back</button>
                    <button type="button" class="btn btn-primary mt-3" onclick="nextStep(8, 9, 80)">Next</button>
                </div>

                <!-- Step 9 -->
                <div id="step-9" class="hidden">
                    <label for="health" class="form-label">Do you have any health concerns?</label>
                    <select id="health" class="form-control" required>
                        <option value="yes">Yes</option>
                        <option value="no">No</option>
                    </select>
                    <button type="button" class="btn btn-secondary mt-3" onclick="prevStep(9, 8, 80)">Back</button>
                    <button type="button" class="btn btn-primary mt-3" onclick="nextStep(9, 10, 90)">Next</button>
                </div>

                <!-- Step 10 -->
                <div id="step-10" class="hidden">
                    <label for="mental-health" class="form-label">How would you rate your mental health?</label>
                    <select id="mental-health" class="form-control" required>
                        <option value="good">Good</option>
                        <option value="average">Average</option>
                        <option value="poor">Poor</option>
                    </select>
                    <button type="button" class="btn btn-secondary mt-3" onclick="prevStep(10, 9, 90)">Back</button>
                    <button type="submit" class="btn btn-success mt-3">Submit</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Result Screen -->
    <div id="result-screen" class="container hidden">
        <h3 class="text-center">Stress Assessment Results</h3>
        <div id="stress-result"></div>
        <div id="basic-tips"></div>
        <div id="detailed-suggestions"></div>
        <div id="daily-routine"></div>
        <button class="btn btn-primary mt-3" onclick="restartTest()">Retake Test</button>
    </div>

    <script>
        let responses = {};

        // Start loading sequence and display welcome screen for 1 second
        function startLoading() {
            setTimeout(() => {
    document.getElementById('loading-screen').style.display = 'none';
    const welcomeScreen = document.getElementById('welcome-screen');
    welcomeScreen.classList.remove('hidden');
    welcomeScreen.classList.add('show'); // Apply fade-in animation
    setTimeout(() => {
        welcomeScreen.style.display = 'none';
        document.getElementById('choose-option-screen').classList.remove('hidden');
    }, 2000);
}, 1000);

        }

        // Show the test questions after clicking the "Take a test" button
        function startTest() {
            document.getElementById('choose-option-screen').style.display = 'none';
            document.getElementById('app-content').style.display = 'block';
        }

        // Function to move between the questions in the test
        function nextStep(currentStep, nextStep, progress) {
    let currentAnswer = document.querySelector(`#step-${currentStep} input, #step-${currentStep} select`);
    if (currentAnswer && currentAnswer.value) {
        responses[`step-${currentStep}`] = currentAnswer.value;
    }
    document.getElementById('step-' + currentStep).classList.add('hidden');
    document.getElementById('step-' + nextStep).classList.remove('hidden');
    document.getElementById('step-' + nextStep).classList.add('show'); // Add fade-in
    document.getElementById('progress-bar').style.width = progress + '%';
}

function prevStep(currentStep, prevStep, progress) {
    document.getElementById('step-' + currentStep).classList.add('hidden');
    document.getElementById('step-' + prevStep).classList.remove('hidden');
    document.getElementById('step-' + prevStep).classList.add('show'); // Add fade-in
    document.getElementById('progress-bar').style.width = progress + '%';
}


        // When the test is completed, display results
        function submitTest(event) {
            event.preventDefault();

            // Analyze responses to generate feedback
            let stressLevel = responses['step-1'] || 0;
            let sleepQuality = responses['step-2'] || 0;
            let diet = responses['step-3'] || '';
            let exercise = responses['step-4'] || '';
            let socialLife = responses['step-5'] || '';
            let workLifeBalance = responses['step-6'] || '';
            let workStress = responses['step-7'] || '';
            let relaxation = responses['step-8'] || '';
            let health = responses['step-9'] || '';
            let mentalHealth = responses['step-10'] || '';

            // Display Stress Level and Suggestions
            let stressCondition = '';
            let solutions = [];
            let tips = [];
            let routine = [];

            // Basic tips
            tips.push('Take regular breaks to clear your mind.');
            tips.push('Practice deep breathing techniques when you feel stressed.');
            tips.push('Try journaling to express your thoughts and emotions.');
            
            // Detailed suggestions based on responses
            if (stressLevel >= 8 || workStress === 'yes' || sleepQuality < 5) {
                stressCondition = 'High Stress Level';
                solutions.push('Consider seeking professional help to manage your stress.');
                solutions.push('Try incorporating relaxation techniques such as meditation or yoga.');
                solutions.push('Ensure you get enough sleep and maintain a balanced diet.');
                routine.push('Morning: 15 minutes of meditation followed by a healthy breakfast.');
                routine.push('Afternoon: Take a 10-minute break every 2 hours of work to relax.');
                routine.push('Evening: 30 minutes of exercise, followed by journaling and a warm bath.');
            } else if (stressLevel >= 5) {
                stressCondition = 'Moderate Stress Level';
                solutions.push('Take regular breaks and avoid overloading yourself.');
                solutions.push('Ensure you have a good work-life balance.');
                solutions.push('Engage in activities that help you unwind.');
                routine.push('Morning: Start your day with a healthy breakfast and a 10-minute walk.');
                routine.push('Afternoon: Practice a short breathing exercise after work.');
                routine.push('Evening: Enjoy a hobby or spend time with loved ones.');
            } else {
                stressCondition = 'Low Stress Level';
                solutions.push('Keep up the good work! Maintain your balanced lifestyle.');
                routine.push('Morning: Start your day with gratitude and a healthy breakfast.');
                routine.push('Afternoon: Practice mindfulness and deep breathing if needed.');
                routine.push('Evening: Relax with light stretching or reading before bed.');
            }

            // Display results
            document.getElementById('stress-result').innerHTML = `<h5>Your Stress Condition: ${stressCondition}</h5>`;
            document.getElementById('basic-tips').innerHTML = `<h6>Basic Tips:</h6><ul>${tips.map(item => `<li>${item}</li>`).join('')}</ul>`;
            document.getElementById('detailed-suggestions').innerHTML = `<h6>Suggested Solutions:</h6><ul>${solutions.map(item => `<li>${item}</li>`).join('')}</ul>`;
            document.getElementById('daily-routine').innerHTML = `<h6>Personalized Daily Routine:</h6><ul>${routine.map(item => `<li>${item}</li>`).join('')}</ul>`;
            
            document.getElementById('app-content').style.display = 'none';
            document.getElementById('result-screen').classList.remove('hidden');
        }

        function restartTest() {
            location.reload();
        }

        // Attach submitTest to form submit
        document.getElementById('stress-form').onsubmit = submitTest;
        // Function to restart the test and clear the responses
function restartTest() {
// Clear responses object
responses = {};
// Reset form fields
document.getElementById('stress-form').reset();
// Hide the result screen and show the test screen again
document.getElementById('result-screen').classList.add('hidden');
document.getElementById('app-content').style.display = 'block';
// Reset the progress bar
document.getElementById('progress-bar').style.width = '10%';
// Hide all steps except the first one
for (let i = 2; i <= 10; i++) {
document.getElementById(`step-${i}`).classList.add('hidden');
}
// Reset the first step
document.getElementById('step-1').classList.remove('hidden');
}

    </script>
</body>
</html>
